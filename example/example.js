!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";n.r(t),n.d(t,"matches",function(){return a}),n.d(t,"getGlobal",function(){return l}),n.d(t,"callFunc",function(){return f}),n.d(t,"callFuncCtx",function(){return p}),n.d(t,"result",function(){return h}),n.d(t,"getOption",function(){return d}),n.d(t,"triggerMethodOn",function(){return v}),n.d(t,"isObjectLike",function(){return y}),n.d(t,"isObject",function(){return b}),n.d(t,"isPlainObject",function(){return _}),n.d(t,"isFunction",function(){return g}),n.d(t,"isConstructor",function(){return w}),n.d(t,"isDestroyable",function(){return O}),n.d(t,"isSubscribable",function(){return j}),n.d(t,"isString",function(){return E}),n.d(t,"isElement",function(){return k}),n.d(t,"isNumber",function(){return x}),n.d(t,"isNumeric",function(){return S}),n.d(t,"extend",function(){return C}),n.d(t,"has",function(){return N}),n.d(t,"slice",function(){return A}),n.d(t,"camelcase",function(){return R}),n.d(t,"uniqueId",function(){return L}),n.d(t,"indexOf",function(){return F}),n.d(t,"inherit",function(){return I}),n.d(t,"noop",function(){return D}),n.d(t,"destroy",function(){return V}),n.d(t,"Base",function(){return u}),n.d(t,"equal",function(){return q}),n.d(t,"Invoker",function(){return K}),n.d(t,"setInvoker",function(){return $}),n.d(t,"debug",function(){return Z});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(){o(this,e)}return i(e,[{key:"destroy",value:function(){return this}}]),e}();u.inherit=I;var s="undefined"!=typeof Element&&Element.prototype||{},c=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector||function(e){return!!~F((this.parentNode||document).querySelectorAll(e)||[],this)};function a(e,t){return c.call(e,t)}function l(){return Function("return this")()}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,r=-1,o=t[0],i=t[1],u=t[2],s=t[3],c=t[4];switch(t.length){case 0:for(;++r<n;)e[r].handler.call(e[r].ctx);return;case 1:for(;++r<n;)e[r].handler.call(e[r].ctx,o);return;case 2:for(;++r<n;)e[r].handler.call(e[r].ctx,o,i);return;case 3:for(;++r<n;)e[r].handler.call(e[r].ctx,o,i,u);return;case 4:for(;++r<n;)e[r].handler.call(e[r].ctx,o,i,u,s);return;case 5:for(;++r<n;)e[r].handler.call(e[r].ctx,o,i,u,s,c);return;default:for(;++r<n;)e[r].handler.apply(e[r].ctx,t);return}}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];Array.isArray(e)||(e=[e]);var r=e.length,o=-1,i=t[0],u=t[1],s=t[2],c=t[3],a=t[4];switch(t.length){case 0:for(;++o<r;)e[o].call(n);return;case 1:for(;++o<r;)e[o].call(n,i);return;case 2:for(;++o<r;)e[o].call(n,i,u);return;case 3:for(;++o<r;)e[o].call(n,i,u,s);return;case 4:for(;++o<r;)e[o].call(n,i,u,s,c);return;case 5:for(;++o<r;)e[o].call(n,i,u,s,c,a);return;default:for(;++o<r;)e[o].apply(n,t);return}}function h(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return g(e[t])?e[t].apply(e,r):e[t]}function d(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0,o=t.length;r<o;r++)if(y(t[r])&&t[r][e])return n?h(t[r],e):t[r][e]}function v(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=R("on-"+t.replace(":","-"));e[i]&&"function"==typeof e[i]&&f([{handler:e[i],ctx:e}],r),g(e.trigger)&&(r=[t].concat(r),f([{handler:e.trigger,ctx:e}],r))}function y(e){return e===Object(e)}function b(e){return null!=e&&"object"===(void 0===e?"undefined":r(e))&&!1===Array.isArray(e)}function m(e){return!0===b(e)&&"[object Object]"===Object.prototype.toString.call(e)}function _(e){var t,n;return!1!==m(e)&&("function"==typeof(t=e.constructor)&&(!1!==m(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}function g(e){return"function"==typeof e}function w(e){try{Reflect.construct(String,[],e)}catch(e){return!1}return!0}function O(e){return e&&g(e.destroy)}function j(e){return y(e)&&g(e.subscribe)}function E(e){return"string"==typeof e}function k(e){return!!e&&(e instanceof Element||null!=e&&"object"===(void 0===e?"undefined":r(e))&&e.nodeType===Node.ELEMENT_NODE&&"object"===r(e.style)&&"object"===r(e.ownerDocument))}function x(e){return"number"==typeof e}function S(e){return"number"==typeof e?e-e==0:"string"==typeof e&&""!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))}function C(e){if(!b(e))return e;for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0,i=n.length;o<i;o++){var u=n[o];if(b(u))for(var s in u)N(u,s)&&(e[s]=u[s])}return e}var P=Object.prototype.hasOwnProperty,T=Array.prototype.slice;function N(e,t){return P.call(e,t)}function A(e,t,n){return T.call(e,t,n)}function R(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})}var M=0;function L(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+ ++M}function F(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function I(e,t){var n,r=this;return n=e&&N(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},Object.assign(n,r,t),n.prototype=function(e,t){var n=function(e){if(!b(e))return{};if(U)return U(e);B.prototype=e;var t=new B;return B.prototype=null,t}(e);t&&Object.assign(n,t);return n}(r.prototype,e),n.prototype.constructor=n,n.__super__=r.prototype,n}var U=Object.create;function B(){}function D(){}function V(e){O(e)&&e.destroy()}function q(e,t){return function e(t,n,o,i){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return t===n;var u=W.call(t);if(u!=W.call(n))return!1;switch(u){case"[object String]":return t==String(n);case"[object Number]":return t!==+t?n!==+n:0===t?1/t==1/n:t===+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object RegExp]":return t.source==n.source&&t.global==n.global&&t.multiline==n.multiline&&t.ignoreCase==n.ignoreCase}if("object"!=(void 0===t?"undefined":r(t))||"object"!=(void 0===n?"undefined":r(n)))return!1;var s=o.length;for(;s--;)if(o[s]==t)return i[s]==n;var c=t.constructor,a=n.constructor;if(c!==a&&!("function"==typeof c&&c instanceof c&&"function"==typeof a&&a instanceof a))return!1;o.push(t);i.push(n);var l=0,f=!0;if("[object Array]"===u){if(l=t.length,f=l===n.length)for(;l--&&(f=e(t[l],n[l],o,i)););}else{for(var p in t)if(N(t,p)&&(l++,!(f=N(n,p)&&e(t[p],n[p],o,i))))break;if(f){for(p in n)if(N(n,p)&&!l--)break;f=!l}}o.pop();i.pop();return f}(e,t,[],[])}var W=Object.prototype.toString;var z="undefined"!=typeof Reflect&&g(Reflect.construct),H={get:function(e){return z?Reflect.construct(e,[]):new e}},K=H;function $(e){e||(e=H),K=e}var G=l(),Z=G.localStorage&&null!=G.localStorage.getItem("viewjs.debug")?function(e){return function(){for(var t,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=r.length;if(i&&E(r[0]))r[0]=e+" "+r[0];else{if(!i)return;r.unshift(e)}(t=console).log.apply(t,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r.map(function(e){return b(e)&&e instanceof u?String(e):e})))}}:function(e){return D}},function(e,t,n){"use strict";n.r(t),n.d(t,"className",function(){return p}),n.d(t,"attributes",function(){return h}),n.d(t,"event",function(){return d}),n.d(t,"attach",function(){return y}),n.d(t,"View",function(){return E}),n.d(t,"normalizeUIKeys",function(){return m}),n.d(t,"normalizeUIString",function(){return _}),n.d(t,"AbstractView",function(){return g}),n.d(t,"Controller",function(){return w}),n.d(t,"withAttachedViews",function(){return x}),n.d(t,"withElement",function(){return S}),n.d(t,"withTemplate",function(){return P});var r=n(0);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function p(e){return function(t){Object.defineProperty(t,"name",{value:e})}}function h(e){return function(t){Object(r.extend)(t.prototype,e)}}function d(e,t){return function(n,o,i){if(!i)throw new Error("no description");if("function"!=typeof i.value)throw new TypeError("must be a function");var u="".concat(e," ").concat(t),s=n.events;if(Object(r.has)(s,u)){var c=s[u];Array.isArray(c)||(c=[c]),c.push(o),s[u]=c}else s=Object(r.extend)(s||{},function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},u,o));n.events=s}}var v=function(e,t,n){var o=d(e,t);return n&&!Array.isArray(n)&&(n=[n]),function(e,t,i){if(!i)throw new Error("no description");if("function"!=typeof i.value)throw new TypeError("must be a function");if(n){var u=i.value;i.value=function(e){if(e&&e instanceof KeyboardEvent)return~n.indexOf(e.keyCode)?u.call(this,e):void 0;var t=Array.prototype.slice.call(arguments);return Object(r.callFuncCtx)(u,t,this)}}return o(e,t,i)}};function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,o){var i;if(!(i=Object(r.isFunction)(t.view)?t.view:Reflect.getOwnMetadata("design:type",n,o)))throw new Error("design:type does not exists for prop '".concat(o,"' on '").concat(n,"'"));n.views||(n.views={}),n.views[o]={selector:e,view:i,optional:"boolean"==typeof t.optional&&t.optional}}}!function(e){e.click=function(t){return e("click",t)},e.change=function(t){return e("change",t)},e.keypress=function(e,t){return v("keypress",e,t)},e.keydown=function(e,t){return v("keydown",e,t)},e.keyup=function(e,t){return v("keyup",e,t)}}(d||(d={}));var b=/@(?:ui\.)?([a-zA-Z_\-\$#\d]+)/i;function m(e,t){var n,o,i={};for(n in e)o=e[n],n=_(n,t),Object(r.has)(i,n)?(Array.isArray(i[n])||(i[n]=[i[n]]),i[n].push(o)):i[n]=o;return i}function _(e,t){var n,r;return null!=(n=b.exec(e))&&null!=(r=t[n[1]])&&(e=e.replace(n[0],r)),e}var g=function(e){function t(){return o(this,t),l(this,c(t).apply(this,arguments))}return s(t,r["Base"]),u(t,[{key:"render",value:function(){return this}},{key:"destroy",value:function(){return this}},{key:"el",get:function(){return this.getElement()},set:function(e){this.setElement(e)}}]),t}(),w=function(e){function t(){return o(this,t),l(this,c(t).apply(this,arguments))}return s(t,g),u(t,[{key:"setElement",value:function(e){return this._el=e,this}},{key:"getElement",value:function(){return this._el}}]),t}(),O=Object(r.debug)("View"),j="focus blur change".split(" "),E=function(e){function t(e){var n;return o(this,t),(n=l(this,c(t).call(this)))._options=Object(r.extend)({},e||{}),n._domEvents=[],n._vid=Object(r.uniqueId)("vid"),n._options.el&&n.setElement(n._options.el),n}return s(t,g),u(t,[{key:"delegateEvents",value:function(e){var t=this;if(this.el){e=e||Object(r.result)(this,"events")||{},O("%s delegate events %o",this,e),this._bindUIElements(),e=m(e,this._ui);var n=this._configureTriggers();if(!(e=Object(r.extend)({},e,n)))return this;var o=[];for(var i in e){var u=e[i],s=i.match(/^(\S+)\s*(.*)$/);Array.isArray(u)||(u=[u]);for(var c=0,a=u.length;c<a;c++){var l=u[c];"function"!=typeof l&&(l=this[l]);var f=l;s[2]?this.delegate(s[1],s[2],f):o.push([s[1],f])}}return o.forEach(function(e){t.delegate(e[0],e[1])}),this}}},{key:"undelegateEvents",value:function(){if(!this.el)return this;if(O("%s undelegate events",this),this._unbindUIElements(),this.el){for(var e=0,t=this._domEvents.length;e<t;e++){var n=this._domEvents[e];O("%s remove dom eventlistener for event '%s'",this,n.eventName),this.el.removeEventListener(n.eventName,n.handler)}this._domEvents.length=0}return this}},{key:"delegate",value:function(e,t,n){if(!this.el)return this;"function"==typeof t&&(n=t,t=void 0);var o=Object(r.uniqueId)(),i=this._domEvents.find(function(n){return n.eventName==e&&n.selector==t});if(i)return o=i.id,i.listeners.push(n),this;i={id:o,selector:t,listeners:[n],eventName:e};var u=this.el,s=this;i.handler=t?function(e){for(var n=e.target||e.srcElement;n&&n!=u;n=n.parentNode)if(n&&Object(r.matches)(n,t)){if(e.delegateTarget&&e.delegateTarget!==n){O("WARN: %s delegateTarget already set and node is not same",s);continue}e.delegateTarget=n,O("%s trigger %i listeners for '%s'-event on selector '%s'",s,i.listeners.length,i.eventName,i.selector),i.listeners.forEach(function(t){return t.call(s,e)})}}:function(e){e.delegateTarget||i.listeners.forEach(function(t){return t.call(s,e)})};var c=!!~j.indexOf(e)&&null!=t;return O("%s delegate event '%s'",this,e),this.el.addEventListener(e,i.handler,c),this._domEvents.push(i),this}},{key:"undelegate",value:function(e,t,n){if(!this.el)return this;"function"==typeof t&&(n=t,t=void 0);for(var o=this._domEvents.slice(),i=0,u=o.length;i<u;i++){var s=o[i];!(s.eventName!==e||n&&!~s.listeners.indexOf(n)||t&&s.selector!==t)&&(n&&1==s.listeners.length||!n?(O("%s remove dom eventlistener for event '%s'",this,s.eventName),this.el.removeEventListener(s.eventName,s.handler),this._domEvents.splice(Object(r.indexOf)(o,s),1)):(O("%s remove listener for event '%s'",this,s.eventName),s.listeners.splice(Object(r.indexOf)(s.listeners,n),1)))}return this}},{key:"render",value:function(){return O("%s render",this),this.undelegateEvents(),this.delegateEvents(),this}},{key:"setElement",value:function(e){return this.undelegateEvents(),this.el&&this.options.attachId&&(O("%s remove view id attribute",this),this.el.removeAttribute("data-vid")),O("%s set element",this,e),this._el=e,this.el&&this.options.attachId&&(O("%s set view id attribute",this),this.el.setAttribute("data-vid",this.vid)),this}},{key:"getElement",value:function(){return this._el}},{key:"destroy",value:function(){return O("%s destroy",this),this.el&&this.options.attachId&&this.el.removeAttribute("data-vid"),this.setElement(void 0),f(c(t.prototype),"destroy",this).call(this),this}},{key:"_bindUIElements",value:function(){var e=this;if(this._ui){var t=this._ui;Object.keys(t).forEach(function(n){var r=e.el.querySelectorAll(t[n]);r&&r.length?(r instanceof NodeList&&(r=r[0]),O("%s added ui element %s %s",e,n,t[n]),e.ui[n]=r):O("%s ui element not found ",e,n,t[n])})}}},{key:"_unbindUIElements",value:function(){O("%s unbind ui elements",this),this.ui={}}},{key:"_configureTriggers",value:function(){var e=this.triggers||{};e=m(e,this._ui);var t,n,r={};for(n in e)t=e[n],O("%s added trigger %s %s",this,n,t),r[n]=this._buildViewTrigger(t);return r}},{key:"_buildViewTrigger",value:function(e){var t=this;"string"==typeof e&&(e={event:e});var n=Object(r.extend)({preventDefault:!0,stopPropagation:!0},e);return function(e){e&&(e.preventDefault&&n.preventDefault&&e.preventDefault(),e.stopPropagation&&n.stopPropagation&&e.stopPropagation()),Object(r.triggerMethodOn)(t,n.event,{view:t},e)}}},{key:"toString",value:function(){return"[".concat(this.name||this.constructor.name," ").concat(this.vid,"]")}},{key:"events",set:function(e){this._events&&this.undelegateEvents(),this._events=Object(r.extend)({},e)},get:function(){return Object(r.extend)({},this._events||{})}},{key:"vid",get:function(){return this._vid}},{key:"options",get:function(){return this._options}}]),t}(),k=Object(r.debug)("withAtachedViews");function x(e){return function(t){function n(){var e,t;o(this,n);for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return(t=l(this,(e=c(n)).call.apply(e,[this].concat(i)))).views&&t._bindViews(t.views),t}return s(n,e),u(n,[{key:"render",value:function(){return f(c(n.prototype),"render",this).call(this),this._renderViews(this.views),this}},{key:"destroy",value:function(){return this.views&&this._unbindViews(this.views),f(c(n.prototype),"destroy",this).call(this)}},{key:"_bindViews",value:function(e){var t;for(var n in e){t=e[n];var o=r.Invoker.get(t.view);this[n]=o}}},{key:"_unbindViews",value:function(e){for(var t in e)this[t]&&this[t]instanceof E&&(this[t].destroy(),delete this[t])}},{key:"_renderViews",value:function(e){var t,n;for(var r in k("%s render attached views",this),e){var o=_((n=e[r]).selector,this._ui||{});if(!(t=this.el.querySelector(o))&&!n.optional)throw new ReferenceError('selector "'.concat(o,'" for view ').concat(n.view.name," not found in dom"));if(!t)return;var i=this[r];if(!i)throw new ReferenceError('view "'.concat(n.view.name,'" not mount'));k("%s render atcched view %s",this,i),i.el=t,i.render()}}}]),n}()}function S(e){return function(t){function n(){var e,t;o(this,n);for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return(t=l(this,(e=c(n)).call.apply(e,[this].concat(i)))).el||t._ensureElement(),t}return s(n,e),u(n,[{key:"_ensureElement",value:function(){if(!this.el){var e=Object(r.getOption)("tagName",[this.options,this])||"div",t=Object(r.getOption)("className",[this.options,this]),n=Object(r.getOption)("attributes",[this.options,this]),o=document.createElement(e);if(t&&t.split(" ").map(function(e){return e.trim()}).forEach(function(e){return o.classList.add(e)}),n)for(var i in n)o.setAttribute(i,n[i]);this.__created=!0,this.el=o}}},{key:"remove",value:function(){return this.__created&&this.el&&this.el.parentNode&&("function"==typeof this.undelegateEvents&&this.undelegateEvents(),this.el.parentNode.removeChild(this.el),this.el=void 0),this.__created=!1,this}},{key:"destroy",value:function(){return f(c(n.prototype),"destroy",this).call(this),this.remove(),this}}]),n}()}var C=Object(r.debug)("withTemplate");function P(e){return function(t){function n(){return o(this,n),l(this,c(n).apply(this,arguments))}return s(n,e),u(n,[{key:"getTemplateData",value:function(){var e=Object(r.result)(this,"model")||{};return C("%s get template data",this),e}},{key:"render",value:function(){return this.el?(Object(r.isFunction)(this.undelegateEvents)&&this.undelegateEvents(),this.renderTemplate(),f(c(n.prototype),"render",this).call(this)):this}},{key:"destroy",value:function(){var e=this.getTemplateData();try{Object(r.result)(this,"template",e)&&this.el&&(this.el.innerHTML="")}catch(e){}return f(c(n.prototype),"destroy",this).call(this)}},{key:"renderTemplate",value:function(){if(this.el){var e=this.getTemplateData(),t=Object(r.result)(this,"template",e);t&&(C("%s render template",this),Object(r.isString)(t)?this.el.innerHTML=t:Object(r.isElement)(t)?this.el.appendChild(t):this.el.innerHTML="")}}}]),n}()}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),l=n(3),f=n(4);t.withComponents=function(e,t){return function(n){function p(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(n=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}(this,(e=u(p)).call.apply(e,[this].concat(i))))._renderer=t,n._componentsRendered=!1,f.componentFromMeta(a.result(c(c(n)),"_renderer"),c(c(n))).forEach(function(e){if(n.findComponent(e.name))throw new TypeError("a component with name '".concat(e.name,"' already registered"));n.components.push(e)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e),function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(p,[{key:"render",value:function(){return this._componentsRendered=!1,i(u(p.prototype),"render",this).call(this),this._renderComponents(),this._componentsRendered=!0,this}},{key:"findComponent",value:function(e){return this.components.find(function(t){return t.name===e})}},{key:"renderComponent",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=a.result(this,"_renderer"),u=new l.ComponentContainer(i,this,{selector:t,attributes:n,component:e,children:o,name:r||(a.isString(t)?t:a.uniqueId())});if(this.components.find(function(e){return e.name===u.name}))throw new TypeError("a component with name '".concat(u.name,"' already registered"));this.components.push(u),this._componentsRendered&&u.render()}},{key:"_renderComponents",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this.components[Symbol.iterator]();!(e=(r=o.next()).done);e=!0)r.value.render()}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}},{key:"destroy",value:function(){i(u(p.prototype),"destroy",this).call(this);var e=!0,t=!1,n=void 0;try{for(var r,o=this.components[Symbol.iterator]();!(e=(r=o.next()).done);e=!0)r.value.destroy()}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}return this._components=[],this}},{key:"components",get:function(){return Array.isArray(this._components)||(this._components=[]),this._components}}]),p}()}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t,this.view=n,this._shouldRender=!0,this._loading=!1,this.id=o.uniqueId(),this._options=Object.assign({},r),this._options.condition&&(this.condition=this._options.condition)}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"getInstance",value:function(){return this._component}},{key:"render",value:function(e){var t=this;if(!this._shouldRender)return this;var n=this.selector;if(o.isString(n)&&(n=this.view.el.querySelector(n)),!n)throw new ReferenceError("element with selector '".concat(this.selector,"' not found in the dom"));if(this.async){if(this._loading)return this;this._loading=!0;var r=this._options.component();Promise.resolve(r).then(function(n){t._async=!1,t._options.component=n,t.render(e),t._loading=!1})}else{var i=(e=this._resolveAttributes(e||this.attributes)||{}).ref,u=Object.assign({ref:function(e){t._component=e,o.isFunction(i)&&i(e)}},e);this._attributes=e,this._el=this.renderer.render(this._options.component,u,this._options.children||[],n,this._el)}return this}},{key:"unmount",value:function(){return this._component?(this.renderer.unmount({el:this._el,component:this._component}),this._component=void 0,this._el=void 0,this._options.preserveAttributeOnUnmount||(this._attributes=void 0),this):this}},{key:"destroy",value:function(){return this._subscription&&this._subscription.unsubscribe(),this.unmount(),this}},{key:"_initializeCondition",value:function(){var e,t=this;if(o.isFunction(this.condition))e=this.condition(this.view);else if(o.isSubscribable(this.condition))e=this.condition;else{if("boolean"!=typeof this.condition)throw TypeError("invalid condition variable");e=this.condition}o.isSubscribable(e)?(this._shouldRender=!1,this._subscription=e.subscribe(function(e){t._shouldRender=null===e||e,e?t.render():t.unmount()})):this._shouldRender=!!e}},{key:"_resolveAttributes",value:function(e){return(o.isFunction(e)?e(this.view):e)||{}}},{key:"selector",get:function(){return this._options.selector}},{key:"name",get:function(){return this._options.name}},{key:"attributes",get:function(){return this._attributes||this._options.attributes||{}}},{key:"async",get:function(){return"boolean"==typeof this._async?this._async:!!this._options.async}},{key:"condition",set:function(e){this._subscription&&this._subscription.unsubscribe(),this._condition=e,this._condition&&this._initializeCondition()},get:function(){return void 0===this._condition?this._options.condition:this._condition}}]),e}();t.ComponentContainer=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(3);t.ComponentsKey=Symbol("view@components"),t.component=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(o,i){var u;if(!(u=r.isFunction(n.component)?n.component:Reflect.getOwnMetadata("design:type",o,i)))throw new Error("design:type does not exists for prop '".concat(i,"' on '").concat(o,"'"));var s=Reflect.getOwnMetadata(t.ComponentsKey,o);return s||(s=[],Reflect.defineMetadata(t.ComponentsKey,s,o)),s.push({selector:e,component:u,attributes:n.attributes||{},name:n.name||i,async:!!n.async,condition:n.condition,preserveAttributeOnUnmount:n.preserveAttributeOnUnmount}),{get:function(){var e=this.findComponent(i);return e?e.getInstance():void 0}}}},t.components=function(e){return function(n){var r=Reflect.getOwnMetadata(t.ComponentsKey,n.prototype);for(var o in r||(r=[],Reflect.defineMetadata(t.ComponentsKey,r,n.prototype)),e){var i=e[o];r.push(Object.assign({name:o},i))}}},t.componentFromMeta=function(e,n){var r=Reflect.getMetadata(t.ComponentsKey,n);return r?r.map(function(t){return new o.ComponentContainer(e,n,t)}):[]}},function(e,t,n){"use strict";n.r(t),n.d(t,"h",function(){return s}),n.d(t,"createElement",function(){return s}),n.d(t,"cloneElement",function(){return l}),n.d(t,"Component",function(){return F}),n.d(t,"render",function(){return I}),n.d(t,"rerender",function(){return d}),n.d(t,"options",function(){return o});var r=function(){},o={},i=[],u=[];function s(e,t){var n,s,c,a,l=u;for(a=arguments.length;a-- >2;)i.push(arguments[a]);for(t&&null!=t.children&&(i.length||i.push(t.children),delete t.children);i.length;)if((s=i.pop())&&void 0!==s.pop)for(a=s.length;a--;)i.push(s[a]);else"boolean"==typeof s&&(s=null),(c="function"!=typeof e)&&(null==s?s="":"number"==typeof s?s=String(s):"string"!=typeof s&&(c=!1)),c&&n?l[l.length-1]+=s:l===u?l=[s]:l.push(s),n=c;var f=new r;return f.nodeName=e,f.children=l,f.attributes=null==t?void 0:t,f.key=null==t?void 0:t.key,void 0!==o.vnode&&o.vnode(f),f}function c(e,t){for(var n in t)e[n]=t[n];return e}var a="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function l(e,t){return s(e.nodeName,c(c({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}var f=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,p=[];function h(e){!e._dirty&&(e._dirty=!0)&&1==p.push(e)&&(o.debounceRendering||a)(d)}function d(){var e,t=p;for(p=[];e=t.pop();)e._dirty&&M(e)}function v(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&y(e,t.nodeName):n||e._componentConstructor===t.nodeName}function y(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function b(e){var t=c({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function m(e){var t=e.parentNode;t&&t.removeChild(e)}function _(e,t,n,r,o){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),r&&r(e);else if("class"!==t||o)if("style"===t){if(r&&"string"!=typeof r&&"string"!=typeof n||(e.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var i in n)i in r||(e.style[i]="");for(var i in r)e.style[i]="number"==typeof r[i]&&!1===f.test(i)?r[i]+"px":r[i]}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var u=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,g,u):e.removeEventListener(t,g,u),(e._listeners||(e._listeners={}))[t]=r}else if("list"!==t&&"type"!==t&&!o&&t in e){try{e[t]=null==r?"":r}catch(e){}null!=r&&!1!==r||"spellcheck"==t||e.removeAttribute(t)}else{var s=o&&t!==(t=t.replace(/^xlink:?/,""));null==r||!1===r?s?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof r&&(s?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||""}function g(e){return this._listeners[e.type](o.event&&o.event(e)||e)}var w=[],O=0,j=!1,E=!1;function k(){for(var e;e=w.pop();)o.afterMount&&o.afterMount(e),e.componentDidMount&&e.componentDidMount()}function x(e,t,n,r,o,i){O++||(j=null!=o&&void 0!==o.ownerSVGElement,E=null!=e&&!("__preactattr_"in e));var u=S(e,t,n,r,i);return o&&u.parentNode!==o&&o.appendChild(u),--O||(E=!1,i||k()),u}function S(e,t,n,r,o){var i=e,u=j;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||o)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),C(e,!0))),i.__preactattr_=!0,i;var s=t.nodeName;if("function"==typeof s)return function(e,t,n,r){var o=e&&e._component,i=o,u=e,s=o&&e._componentConstructor===t.nodeName,c=s,a=b(t);for(;o&&!c&&(o=o._parentComponent);)c=o.constructor===t.nodeName;o&&c&&(!r||o._component)?(R(o,a,3,n,r),e=o.base):(i&&!s&&(L(i),e=u=null),o=N(t.nodeName,a,n),e&&!o.nextBase&&(o.nextBase=e,u=null),R(o,a,1,n,r),e=o.base,u&&e!==u&&(u._component=null,C(u,!1)));return e}(e,t,n,r);if(j="svg"===s||"foreignObject"!==s&&j,s=String(s),(!e||!y(e,s))&&(i=function(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.normalizedNodeName=e,n}(s,j),e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),C(e,!0)}var c=i.firstChild,a=i.__preactattr_,l=t.children;if(null==a){a=i.__preactattr_={};for(var f=i.attributes,p=f.length;p--;)a[f[p].name]=f[p].value}return!E&&l&&1===l.length&&"string"==typeof l[0]&&null!=c&&void 0!==c.splitText&&null==c.nextSibling?c.nodeValue!=l[0]&&(c.nodeValue=l[0]):(l&&l.length||null!=c)&&function(e,t,n,r,o){var i,u,s,c,a,l=e.childNodes,f=[],p={},h=0,d=0,y=l.length,b=0,_=t?t.length:0;if(0!==y)for(var g=0;g<y;g++){var w=l[g],O=w.__preactattr_,j=_&&O?w._component?w._component.__key:O.key:null;null!=j?(h++,p[j]=w):(O||(void 0!==w.splitText?!o||w.nodeValue.trim():o))&&(f[b++]=w)}if(0!==_)for(var g=0;g<_;g++){c=t[g],a=null;var j=c.key;if(null!=j)h&&void 0!==p[j]&&(a=p[j],p[j]=void 0,h--);else if(d<b)for(i=d;i<b;i++)if(void 0!==f[i]&&v(u=f[i],c,o)){a=u,f[i]=void 0,i===b-1&&b--,i===d&&d++;break}a=S(a,c,n,r),s=l[g],a&&a!==e&&a!==s&&(null==s?e.appendChild(a):a===s.nextSibling?m(s):e.insertBefore(a,s))}if(h)for(var g in p)void 0!==p[g]&&C(p[g],!1);for(;d<=b;)void 0!==(a=f[b--])&&C(a,!1)}(i,l,n,r,E||null!=a.dangerouslySetInnerHTML),function(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||_(e,r,n[r],n[r]=void 0,j);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||_(e,r,n[r],n[r]=t[r],j)}(i,t.attributes,a),j=u,i}function C(e,t){var n=e._component;n?L(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||m(e),P(e))}function P(e){for(e=e.lastChild;e;){var t=e.previousSibling;C(e,!0),e=t}}var T=[];function N(e,t,n){var r,o=T.length;for(e.prototype&&e.prototype.render?(r=new e(t,n),F.call(r,t,n)):((r=new F(t,n)).constructor=e,r.render=A);o--;)if(T[o].constructor===e)return r.nextBase=T[o].nextBase,T.splice(o,1),r;return r}function A(e,t,n){return this.constructor(e,n)}function R(e,t,n,r,i){e._disable||(e._disable=!0,e.__ref=t.ref,e.__key=t.key,delete t.ref,delete t.key,void 0===e.constructor.getDerivedStateFromProps&&(!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r)),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===o.syncComponentUpdates&&e.base?h(e):M(e,1,i)),e.__ref&&e.__ref(e))}function M(e,t,n,r){if(!e._disable){var i,u,s,a=e.props,l=e.state,f=e.context,p=e.prevProps||a,h=e.prevState||l,d=e.prevContext||f,v=e.base,y=e.nextBase,m=v||y,_=e._component,g=!1,j=d;if(e.constructor.getDerivedStateFromProps&&(l=c(c({},l),e.constructor.getDerivedStateFromProps(a,l)),e.state=l),v&&(e.props=p,e.state=h,e.context=d,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(a,l,f)?g=!0:e.componentWillUpdate&&e.componentWillUpdate(a,l,f),e.props=a,e.state=l,e.context=f),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!g){i=e.render(a,l,f),e.getChildContext&&(f=c(c({},f),e.getChildContext())),v&&e.getSnapshotBeforeUpdate&&(j=e.getSnapshotBeforeUpdate(p,h));var E,S,P=i&&i.nodeName;if("function"==typeof P){var T=b(i);(u=_)&&u.constructor===P&&T.key==u.__key?R(u,T,1,f,!1):(E=u,e._component=u=N(P,T,f),u.nextBase=u.nextBase||y,u._parentComponent=e,R(u,T,0,f,!1),M(u,1,n,!0)),S=u.base}else s=m,(E=_)&&(s=e._component=null),(m||1===t)&&(s&&(s._component=null),S=x(s,i,f,n||!v,m&&m.parentNode,!0));if(m&&S!==m&&u!==_){var A=m.parentNode;A&&S!==A&&(A.replaceChild(S,m),E||(m._component=null,C(m,!1)))}if(E&&L(E),e.base=S,S&&!r){for(var F=e,I=e;I=I._parentComponent;)(F=I).base=S;S._component=F,S._componentConstructor=F.constructor}}for(!v||n?w.unshift(e):g||(e.componentDidUpdate&&e.componentDidUpdate(p,h,j),o.afterUpdate&&o.afterUpdate(e));e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);O||r||k()}}function L(e){o.beforeUnmount&&o.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?L(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,m(t),T.push(e),P(t)),e.__ref&&e.__ref(null)}function F(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{},this._renderCallbacks=[]}function I(e,t,n){return x(n,e,{},!1,t,!1)}c(F.prototype,{setState:function(e,t){var n=this.prevState=this.state;"function"==typeof e&&(e=e(n,this.props)),this.state=c(c({},n),e),t&&this._renderCallbacks.push(t),h(this)},forceUpdate:function(e){e&&this._renderCallbacks.push(e),M(this,2)},render:function(){}});var U={h:s,createElement:s,cloneElement:l,Component:F,render:I,rerender:d,options:o};t.default=U},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,u=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(u=(i<3?o(u):i>3?o(t,n,u):o(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u},a=this&&this.__metadata||function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),f=n(7),p=n(9),h=n(10);function d(){return new Promise(function(e,t){setTimeout(function(){e()},1e3)})}t.delay=d;var v=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=o(this,i(t).apply(this,arguments))).count=0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,f.PreactView),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(t,[{key:"onBtnClick",value:function(){console.log(this),this.findComponent("test").render({who:"World "+ ++this.count}),this.test&&this.test.explode(),this.count%5==0&&this.findComponent("test").unmount()}}]),t}();c([f.component(".preact",{async:!0,component:function(){return d().then(function(){return p.Test})},condition:function(){var e=new h.Observer;e.next(!1);var t=0,n=setInterval(function(){++t%5==0?e.next(!1):(e.next(!0),t>100&&(e.complete(),clearInterval(n)))},1e3);return e.next(!0),e.subscriber()},preserveAttributeOnUnmount:!0}),a("design:type",p.Test)],v.prototype,"test",void 0),c([l.event.click("button"),a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],v.prototype,"onBtnClick",null),new(v=c([f.components({test2:{component:p.Test,selector:".preact2"}})],v))({el:document.querySelector(".container")}).render()},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(2)),r(n(4)),r(n(8))},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a,l=n(5),f=n(2),p=n(1);function h(e){var t=e.parentNode;t&&t.removeChild(e)}function d(e){for(e=e.lastChild;e;){var t=e.previousSibling;v(e,!0),e=t}}function v(e,t){var n=e._component;n?y(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||h(e),d(e))}function y(e){var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?y(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,h(t),d(t)),e.__ref&&e.__ref(null)}var b=function(){function e(){s(this,e)}return function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(e,[{key:"render",value:function(e,t,n,r,o){return l.render(l.h(e,t,n),r,o)}},{key:"unmount",value:function(e){return e.component?y(e.component):e.el&&e.el.parentElement&&e.el.parentElement.removeChild(e.el),!0}}],[{key:"shared",get:function(){return a||(a=new e),a}}]),e}();t.PreactRenderer=b;var m=function(e){function t(){return s(this,t),o(this,i(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,f.withComponents(p.View,function(){return b.shared})),t}();t.PreactView=m},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(5),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,u(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,c.Component),function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(t,[{key:"explode",value:function(){this.setState({rapper:"tesdt"})}},{key:"render",value:function(){return c.h("div",null,c.h("h1",null,"Hello, ",this.props.who," - ",this.state.rapper))}}]),t}();t.Test=a},function(e,t,n){"use strict";n.r(t),n.d(t,"withEventEmitter",function(){return v}),n.d(t,"EventEmitter",function(){return y}),n.d(t,"withEventListener",function(){return _}),n.d(t,"EventListener",function(){return g}),n.d(t,"EventEmitterListener",function(){return w}),n.d(t,"withTypedEventEmitter",function(){return O}),n.d(t,"TypedEventEmitter",function(){return j}),n.d(t,"isEventEmitter",function(){return b}),n.d(t,"IsEventListener",function(){return m}),n.d(t,"Observer",function(){return k}),n.d(t,"Observable",function(){return S});var r=n(0);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?f(e):t}function h(e,t,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function d(e,t,n){for(var r=0;r<e.length;r++){var o=e[r];(null==t&&null!=n&&o.ctx===n||null!=t&&null==n&&o.handler===t||null!=t&&null!=n&&o.handler===t&&o.ctx===n)&&e.splice(r,1)}return e}function v(e){return function(t){function n(){var e;return i(this,n),(e=p(this,a(n).apply(this,arguments)))._listeners=void 0,e}return c(n,e),s(n,[{key:"on",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=(this._listeners||(this._listeners=new Map)).get(e)||[];return o.push({name:e,once:r,handler:t,ctx:n||this}),this._listeners.has(e)||this._listeners.set(e,o),this}},{key:"once",value:function(e,t,n){return this.on(e,t,n,!0)}},{key:"off",value:function(e,t,n){if(this._listeners=this._listeners||new Map,null==e&&null==n)this._listeners=new Map;else if(this._listeners.has(e)){var r=this._listeners.get(e);null==t&&null==n?this._listeners.set(e,[]):d(r,t,n)}else this._listeners.forEach(function(e){d(e,t,n)});return this}},{key:"trigger",value:function(e){this._listeners=this._listeners||new Map;for(var t,n=(this._listeners.get(e)||[]).concat(this._listeners.get("*")||[]),r=[],o=[],i=0,u=n.length;i<u;i++)"*"===n[i].name?o.push(n[i]):r.push(n[i]),!0===n[i].once&&(t=this._listeners.get(n[i].name).indexOf(n[i]),this._listeners.get(n[i].name).splice(t,1));for(var s=arguments.length,c=new Array(s>1?s-1:0),a=1;a<s;a++)c[a-1]=arguments[a];if(o.length&&this._executeListener(o,[e].concat(c)),r.length)this._executeListener(r,c);else if("error"===e&&y.throwOnError&&c.length){var l=c[0];l instanceof Error||(l=new Error(String(l))),y.throwError(l)}return this}},{key:"destroy",value:function(){return"function"==typeof e.prototype.destroy&&e.prototype.destroy.call(this),this.off(),this}},{key:"_executeListener",value:function(e,t){y.executeListenerFunction(e,t)}},{key:"listeners",get:function(){return this._listeners}}]),n}()}var y=function(e){function t(){return i(this,t),p(this,a(t).apply(this,arguments))}return c(t,v(r["Base"])),t}();function b(e){return e&&Object(r.isFunction)(e.on)&&Object(r.isFunction)(e.once)&&Object(r.isFunction)(e.off)&&Object(r.isFunction)(e.trigger)}function m(e){return e&&Object(r.isFunction)(e.listenTo)&&Object(r.isFunction)(e.listenToOnce)&&Object(r.isFunction)(e.stopListening)}function _(e){return function(t){function n(){var e;return i(this,n),(e=p(this,a(n).apply(this,arguments)))._listeningTo=void 0,e}return c(n,e),s(n,[{key:"listenTo",value:function(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return b(e)?((this._listeningTo||(this._listeningTo={}))[e.listenId||(e.listenId=Object(r.uniqueId)())]=e,e[i?"once":"on"](t,n,o||this),this):(y.throwOnError&&y.throwError(new TypeError("obj is not an EventEmitter")),this)}},{key:"listenToOnce",value:function(e,t,n,r){return this.listenTo(e,t,n,r,!0)}},{key:"stopListening",value:function(e,t,n){if(e&&!b(e))return y.throwOnError&&y.throwError(new TypeError("obj is not an EventEmitter")),this;var r=this._listeningTo;if(!r)return this;var i=!t&&!n;for(var u in n||"object"!==o(t)||(n=this),e&&((r={})[e.listenId]=e),r)(e=r[u]).off(t,n,this),(i||0===e.listeners.size)&&delete this._listeningTo[u];return this}},{key:"destroy",value:function(){return"function"==typeof e.prototype.destroy&&e.prototype.destroy.call(this),this.stopListening(),this}}]),n}()}!function(e){e.throwOnError=!1,e.throwError=function(e){throw e},e.executeListenerFunction=function(e,t){Object(r.callFunc)(e,t)}}(y||(y={}));var g=function(e){function t(){return i(this,t),p(this,a(t).apply(this,arguments))}return c(t,_(r["Base"])),t}(),w=function(e){function t(){return i(this,t),p(this,a(t).apply(this,arguments))}return c(t,_(y)),t}();function O(e){return function(t){function n(){return i(this,n),p(this,a(n).apply(this,arguments))}return c(n,e),s(n,[{key:"on",value:function(e,t,r){return h(a(n.prototype),"on",this).call(this,e,t,r)}},{key:"once",value:function(e,t,r){return h(a(n.prototype),"once",this).call(this,e,t,r)}},{key:"off",value:function(e,t,r){return h(a(n.prototype),"off",this).call(this,e,t,r)}},{key:"trigger",value:function(e){if("string"==typeof e){for(var t,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return(t=h(a(n.prototype),"trigger",this)).call.apply(t,[this,e].concat(o))}return e.constructor?h(a(n.prototype),"trigger",this).call(this,e.constructor,e):this}}]),n}()}var j=function(e){function t(){return i(this,t),p(this,a(t).apply(this,arguments))}return c(t,O(y)),t}(),E={next:Symbol("next"),error:Symbol("error"),complete:Symbol("complete")},k=function(e){function t(){var e;return i(this,t),(e=p(this,a(t).apply(this,arguments)))._e=new y,e.closed=!1,e}return c(t,r["Base"]),s(t,[{key:"next",value:function(e){if(this.closed)throw new Error("closed");return this._e.trigger(E.next,e),this}},{key:"error",value:function(e){if(this.closed)throw new Error("closed");this._e.trigger(E.error,e),this.closed=!0}},{key:"complete",value:function(){if(this.closed)throw new Error("closed");this._e.trigger(E.complete),this.closed=!0}},{key:"subscriber",value:function(){return new S(this)}}]),t}(),x=function(e){function t(){return i(this,t),p(this,a(t).apply(this,arguments))}return c(t,g),s(t,[{key:"unsubscribe",value:function(){this.stopListening()}}]),t}(),S=function(e){function t(e){var n;return i(this,t),(n=p(this,a(t).call(this))).observer=e,n._e=new w,n.completed=!1,n.value=void 0,n._e.listenTo(n.observer._e,E.next,n._triggerNext,f(f(n))),n._e.listenToOnce(n.observer._e,E.error,n._triggerError,f(f(n))),n._e.listenToOnce(n.observer._e,E.complete,n._triggerCompleted,f(f(n))),n}return c(t,r["Base"]),s(t,[{key:"subscribe",value:function(e,t,n){var r=new x;return r.listenTo(this._e,E.next,e,this),t&&r.listenToOnce(this._e,E.error,t,this),n&&r.listenToOnce(this._e,E.complete,n,this),this.value,r}},{key:"unsubscribeAll",value:function(){this._e.off()}},{key:"_triggerNext",value:function(e){this._e.trigger(E.next,e),this.value=e}},{key:"_triggerError",value:function(e){this._e.trigger(E.error,e),this.completed=!0}},{key:"_triggerCompleted",value:function(){this.completed||(this._e.trigger(E.complete),this.completed=!0)}}]),t}()}]);